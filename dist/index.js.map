{"version":3,"file":"index.js","sources":["../src/constants.js","../src/menus/CmrCsModuleMainMenu.js","../src/index.js"],"sourcesContent":["import _ from \"lodash\";\n\nexport const RIGHT_ADD = 111002;\nexport const RIGHT_SUBMIT = 111007;","import React, { Component } from \"react\";\nimport { injectIntl } from \"react-intl\";\nimport { connect } from \"react-redux\";\nimport { ListAlt, ScreenShare, ImportExport } from \"@material-ui/icons\";\nimport { formatMessage, MainMenuContribution, withModulesManager } from \"@openimis/fe-core\";\nimport { RIGHT_ADD, RIGHT_SUBMIT } from \"../constants\";\n\nclass CmrCseMainMenu extends Component {\n    render() {\n      const { rights } = this.props;\n      let entries = [];\n      if (!!rights.filter((r) => r >= RIGHT_ADD && r <= RIGHT_SUBMIT).length) {\n        // RIGHT_SEARCH is shared by HF & HQ staff)\n        entries.push({\n          text: formatMessage(this.props.intl, \"cheque\", \"menu.chequeImport\"),\n          icon: <ImportExport />,\n          route: \"/cheque/import\",\n        });\n\n        entries.push({\n            text: formatMessage(this.props.intl, \"cheque\", \"menu.chequeList\"),\n            icon: <ListAlt />,\n            route: \"/cheque/list\",\n          });\n      }\n      if (!entries.length) return null;\n      return (\n        <MainMenuContribution\n          {...this.props}\n          header={formatMessage(this.props.intl, \"cheque management\", \"cheque.mainMenu\")}\n          icon={<ScreenShare />}\n          entries={entries}\n        />\n      );\n    }\n  }\n  \n  const mapStateToProps = (state) => ({\n    rights: !!state.core && !!state.core.user && !!state.core.user.i_user ? state.core.user.i_user.rights : [],\n  });\n  export default withModulesManager(injectIntl(connect(mapStateToProps)(CmrCseMainMenu)));","import messages_en from \"./translations/en.json\";\nimport messages_fr from \"./translations/fr.json\";\n\nimport CmrCsModuleMainMenu from \"./menus/CmrCsModuleMainMenu\";\n\nconst DEFAULT_CONFIG = {\n  \"translations\": [\n    { key: \"en\", messages: messages_en },\n    { key: \"fr\", messages: messages_fr },\n  ],\n  \"core.MainMenu\" : [CmrCsModuleMainMenu]\n}\n\nexport const CmrCsModule = (cfg) => {\n  return { ...DEFAULT_CONFIG, ...cfg };\n}"],"names":["RIGHT_ADD","RIGHT_SUBMIT","CmrCseMainMenu","rights","props","entries","filter","r","length","push","text","formatMessage","intl","icon","React","ImportExport","route","ListAlt","MainMenuContribution","_extends","ScreenShare","Component","mapStateToProps","state","core","user","i_user","withModulesManager","injectIntl","connect","DEFAULT_CONFIG","key","messages","messages_en","messages_fr","CmrCsModuleMainMenu","CmrCsModule","cfg"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEO,IAAMA,SAAS,GAAG,MAAlB,CAAA;AACA,IAAMC,YAAY,GAAG,MAArB;;;;;;ICIDC;;;;;;;;;;;;;WACF,SAAS,MAAA,GAAA;AACP,MAAA,IAAQC,MAAR,GAAmB,IAAKC,CAAAA,KAAxB,CAAQD,MAAR,CAAA;MACA,IAAIE,OAAO,GAAG,EAAd,CAAA;;AACA,MAAA,IAAI,CAAC,CAACF,MAAM,CAACG,MAAP,CAAc,UAACC,CAAD,EAAA;AAAA,QAAA,OAAOA,CAAC,IAAIP,SAAL,IAAkBO,CAAC,IAAIN,YAA9B,CAAA;OAAd,CAAA,CAA0DO,MAAhE,EAAwE;AACtE;QACAH,OAAO,CAACI,IAAR,CAAa;UACXC,IAAI,EAAEC,oBAAa,CAAC,IAAKP,CAAAA,KAAL,CAAWQ,IAAZ,EAAkB,QAAlB,EAA4B,mBAA5B,CADR;UAEXC,IAAI,eAAEC,yBAAC,CAAA,aAAA,CAAAC,kBAAD,EAFK,IAAA,CAAA;AAGXC,UAAAA,KAAK,EAAE,gBAAA;SAHT,CAAA,CAAA;QAMAX,OAAO,CAACI,IAAR,CAAa;UACTC,IAAI,EAAEC,oBAAa,CAAC,IAAKP,CAAAA,KAAL,CAAWQ,IAAZ,EAAkB,QAAlB,EAA4B,iBAA5B,CADV;UAETC,IAAI,eAAEC,yBAAC,CAAA,aAAA,CAAAG,aAAD,EAFG,IAAA,CAAA;AAGTD,UAAAA,KAAK,EAAE,cAAA;SAHX,CAAA,CAAA;AAKD,OAAA;;AACD,MAAA,IAAI,CAACX,OAAO,CAACG,MAAb,EAAqB,OAAO,IAAP,CAAA;AACrB,MAAA,oBACEM,yBAAC,CAAA,aAAA,CAAAI,2BAAD,EACMC,4BAAA,CAAA,EAAA,EAAA,IAAA,CAAKf,KADX,EAAA;QAEE,MAAM,EAAEO,oBAAa,CAAC,IAAKP,CAAAA,KAAL,CAAWQ,IAAZ,EAAkB,mBAAlB,EAAuC,iBAAvC,CAFvB;QAGE,IAAI,eAAEE,yBAAC,CAAA,aAAA,CAAAM,iBAAD,EAHR,IAAA,CAAA;AAIE,QAAA,OAAO,EAAEf,OAAAA;OALb,CAAA,CAAA,CAAA;AAQD,KAAA;;;;EA3BwBgB;;AA8B3B,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAA;EAAA,OAAY;AAClCpB,IAAAA,MAAM,EAAE,CAAC,CAACoB,KAAK,CAACC,IAAR,IAAgB,CAAC,CAACD,KAAK,CAACC,IAAN,CAAWC,IAA7B,IAAqC,CAAC,CAACF,KAAK,CAACC,IAAN,CAAWC,IAAX,CAAgBC,MAAvD,GAAgEH,KAAK,CAACC,IAAN,CAAWC,IAAX,CAAgBC,MAAhB,CAAuBvB,MAAvF,GAAgG,EAAA;GADlF,CAAA;AAAA,CAAxB,CAAA;;AAGA,0BAAewB,yBAAkB,CAACC,oBAAU,CAACC,kBAAO,CAACP,eAAD,CAAP,CAAyBpB,cAAzB,CAAD,CAAX,CAAjC;;;;;ACnCF,IAAM4B,cAAc,GAAG;AACrB,EAAA,cAAA,EAAgB,CACd;AAAEC,IAAAA,GAAG,EAAE,IAAP;AAAaC,IAAAA,QAAQ,EAAEC,WAAAA;AAAvB,GADc,EAEd;AAAEF,IAAAA,GAAG,EAAE,IAAP;AAAaC,IAAAA,QAAQ,EAAEE,WAAAA;AAAvB,GAFc,CADK;AAKrB,EAAA,eAAA,EAAkB,CAACC,mBAAD,CAAA;AALG,CAAvB,CAAA;IAQaC,WAAW,GAAG,SAAdA,WAAc,CAACC,GAAD,EAAS;EAClC,OAAYP,aAAAA,CAAAA,aAAAA,CAAAA,EAAAA,EAAAA,cAAZ,GAA+BO,GAA/B,CAAA,CAAA;AACD;;;;"}
{"version":3,"file":"index.es.js","sources":["../src/reducer.js","../src/constants.js","../src/menus/CmrCsModuleMainMenu.js","../src/actions.js","../src/pages/ChequeListPage.js","../src/pages/ChequeImportPage.js","../src/index.js"],"sourcesContent":["import {\n    formatServerError, formatGraphQLError, parseData, pageInfo,\n    dispatchMutationReq, dispatchMutationErr, dispatchMutationResp\n} from '@openimis/fe-core';\n\nfunction reducer(\n    state = {\n        fetchingCheques: false,\n        errorCheques: null,\n        fetchedMyCheque: false,\n        myCheques: [],\n        myChequesPageInfo: { totalCount: 0 },\n\n        fetchingChequesImport: false,\n        errorChequesImport: null,\n        fetchedMyChequeImport: false,\n        myChequesImport: [],\n        myChequesImportPageInfo: { totalCount: 0 },\n\n        submittingMutation: false,\n        mutation: {},    \n    },\n    action,\n) {\n    switch (action.type) {\n        case 'LOCATION_USER_DISTRICTS_RESP':\n            console.log(`HÃ©, I'm My Module... are you in ${action.payload.data.userDistricts[0].name}?`);\n            return state;                                  \n        case 'CMS_CS_CHECKLIST_REQ':\n            return {\n                ...state,\n                fetchingCheques: true,\n                fetchedMyCheques: false,\n                myCheques: [],\n                myChequesPageInfo: { totalCount: 0 },\n                errorCheques: null,\n            };\n        case 'CMS_CS_CHECKLIST_RESP':\n            return {\n                ...state,\n                fetchingCheques: false,\n                fetchedMyCheques: true,\n                myCheques: parseData(action.payload.data.healthFacilities),\n                myChequesPageInfo: pageInfo(action.payload.data.healthFacilities),\n                errorCheques: formatGraphQLError(action.payload)\n            };\n        case 'CMS_CS_CHECKLIST_ERR':\n            return {\n                ...state,\n                fetchedMyCheques: false,\n                errorCheques: formatServerError(action.payload)\n            };\n        case 'CMS_CS_CHECKLIST_REQ':\n            return {\n                ...state,\n                fetchingCheques: true,\n                fetchedMyCheques: false,\n                myCheques: [],\n                myChequesPageInfo: { totalCount: 0 },\n                errorCheques: null,\n            };\n        case 'CMS_CS_CHECKLIST_RESP':\n            return {\n                ...state,\n                fetchingCheques: false,\n                fetchedMyCheques: true,\n                myCheques: parseData(action.payload.data.healthFacilities),\n                myChequesPageInfo: pageInfo(action.payload.data.healthFacilities),\n                errorCheques: formatGraphQLError(action.payload)\n            };\n        case 'CMS_CS_CHECKLIST_ERR':\n            return {\n                ...state,\n                fetchedMyCheques: false,\n                errorCheques: formatServerError(action.payload)\n            };\n        case 'CMS_CS_CHECKIMPORT_REQ':\n            return {\n                ...state,\n                fetchingChequesImport: true,\n                fetchedMyChequesImport: false,\n                myChequesImport: [],\n                myChequesImportPageInfo: { totalCount: 0 },\n                errorChequesImport: null,\n            };\n        case 'CMS_CS_CHECKIMPORT_RESP':\n            return {\n                ...state,\n                fetchingChequesImport: false,\n                fetchedMyChequesImport: true,\n                myChequesImport: parseData(action.payload.data.healthFacilities),\n                myChequesImportPageInfo: pageInfo(action.payload.data.healthFacilities),\n                errorChequesImport: formatGraphQLError(action.payload)\n            };\n        case 'CMS_CS_CHECKIMPORT_ERR':\n            return {\n                ...state,\n                fetchedMyChequesImport: false,\n                errorChequesImport: formatServerError(action.payload)\n            };\n        case 'MY_MODULE_CREATE_ENTITY_REQ':\n            return dispatchMutationReq(state, action)\n        case 'MY_MODULE_CREATE_ENTITY_ERR':\n            return dispatchMutationErr(state, action);\n        case 'MY_MODULE_CREATE_ENTITY_RESP':\n            return dispatchMutationResp(state, \"createLocation\", action);         \n        default:\n            return state;\n    }\n}\n\nexport default reducer;","import _ from \"lodash\";\n\nexport const RIGHT_ADD = 111002;\nexport const RIGHT_SUBMIT = 111007;","import React, { Component } from \"react\";\nimport { injectIntl } from \"react-intl\";\nimport { connect } from \"react-redux\";\nimport { ListAlt, ScreenShare, ImportExport } from \"@material-ui/icons\";\nimport { formatMessage, MainMenuContribution, withModulesManager } from \"@openimis/fe-core\";\nimport { RIGHT_ADD, RIGHT_SUBMIT } from \"../constants\";\n\nclass CmrCseMainMenu extends Component {\n    render() {\n      const { rights } = this.props;\n      let entries = [];\n      if (!!rights.filter((r) => r >= RIGHT_ADD && r <= RIGHT_SUBMIT).length) {\n        // RIGHT_SEARCH is shared by HF & HQ staff)\n        entries.push({\n          text: formatMessage(this.props.intl, \"cheque\", \"menu.chequeImport\"),\n          icon: <ImportExport />,\n          route: \"/cheque/import\",\n        });\n\n        entries.push({\n            text: formatMessage(this.props.intl, \"cheque\", \"menu.chequeList\"),\n            icon: <ListAlt />,\n            route: \"/cheque/list\",\n          });\n      }\n      if (!entries.length) return null;\n      return (\n        <MainMenuContribution\n          {...this.props}\n          header={formatMessage(this.props.intl, \"cheque management\", \"cheque.mainMenu\")}\n          icon={<ScreenShare />}\n          entries={entries}\n        />\n      );\n    }\n  }\n  \n  const mapStateToProps = (state) => ({\n    rights: !!state.core && !!state.core.user && !!state.core.user.i_user ? state.core.user.i_user.rights : [],\n  });\n  export default withModulesManager(injectIntl(connect(mapStateToProps)(CmrCseMainMenu)));","import {\n    graphql, formatPageQueryWithCount, formatMutation\n} from \"@openimis/fe-core\";\n\nexport function fetchCheques() {\n    const payload = formatPageQueryWithCount(\n        \"healthFacilities\",\n        null,\n        [\"code\", \"name\"]\n    );\n    return graphql(payload, 'CMS_CS_CHECKLIST');\n}\n\nexport function fetchChequesImport() {\n    const payload = formatPageQueryWithCount(\n        \"healthFacilities\",\n        null,\n        [\"id\",\"code\", \"name\"]\n    );\n    return graphql(payload, 'CMS_CS_CHECKIMPORT');\n}","import React, { Component } from \"react\";\nimport { withTheme, withStyles } from \"@material-ui/core/styles\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { injectIntl } from 'react-intl';\nimport { formatMessageWithValues, FormattedMessage } from \"@openimis/fe-core\";\nimport { fetchCheques } from \"../actions\"\nimport { ProgressOrError, Table } from \"@openimis/fe-core\";\n\nconst styles = theme => ({\n    page: theme.page,\n});\n\nclass ChequeListPage extends Component {\n\n    state = {\n        page: 0,\n        pageSize: 20,\n        afterCursor: null,\n        beforeCursor: null,\n    }\n\n    componentDidMount() {\n        this.query();\n    }\n\n    query = () => {\n        let prms = [];\n        prms.push(`first: ${this.state.pageSize}`);\n        if (!!this.state.afterCursor) {\n            prms.push(`after: \"${this.state.afterCursor}\"`)\n        }\n        if (!!this.state.beforeCursor) {\n            prms.push(`before: \"${this.state.beforeCursor}\"`)\n        }\n        prms.push(`orderBy: [\"code\"]`);\n        this.props.fetchCheques(prms);\n    }\n\n\n    render() {\n        const { \n            intl,\n            classes,\n            fetchingCheques,\n            errorCheques,\n            fetchedMyCheques,\n            myCheques,\n            myChequesPageInfo \n        } = this.props;\n\n        let headers = [\n            \"cmr_cs.checknum\",\n            \"cmr_cs.checkstate\",\n        ]\n\n        let itemFormatters = [\n            e => e.code,\n            e => e.name,\n        ]\n\n        return (\n            <div className={classes.page}>\n                <ProgressOrError progress={fetchingCheques} error={errorCheques} /> \n                <Table\n                    module=\"cmr_cs\"\n                    header={formatMessageWithValues(intl, \"CmrCS\", \"cmr_cs.table\", \n                    {count: myChequesPageInfo.totalCount})}\n                    headers={headers}\n                    itemFormatters={itemFormatters}\n                    items={myCheques}\n                    withPagination={true}\n                    page={this.state.page}\n                    pageSize={this.state.pageSize}\n                    count={myChequesPageInfo.totalCount}\n                    onChangePage={this.onChangePage}\n                    onChangeRowsPerPage={this.onChangeRowsPerPage}\n                    rowsPerPageOptions={this.rowsPerPageOptions}\n                />\n                </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    fetchingCheques: state.cmr_cs.fetchingCheques,\n    errorCheques: state.cmr_cs.errorCheques,\n    fetchedMyCheques: state.cmr_cs.fetchedMyCheques,\n    myCheques: state.cmr_cs.myCheques,\n    myChequesPageInfo: state.cmr_cs.myChequesPageInfo,\n});\n\n\n\nconst mapDispatchToProps = dispatch => {\n    return bindActionCreators({ fetchCheques }, dispatch);\n};\n\nexport default injectIntl(withTheme(withStyles(styles)(connect(mapStateToProps, mapDispatchToProps)(ChequeListPage))));","import React, { Component } from \"react\";\nimport { withTheme, withStyles } from \"@material-ui/core/styles\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { injectIntl } from 'react-intl';\nimport {\n    Grid,\n    Typography,\n    Button,\n    Divider,\n    Input,\n    FormControlLabel,\n    Checkbox\n  } from \"@material-ui/core\";\nimport { formatMessageWithValues, FormattedMessage } from \"@openimis/fe-core\";\nimport { fetchChequesImport } from \"../actions\"\nimport { ProgressOrError, Table } from \"@openimis/fe-core\";\n\nconst styles = theme => ({\n    page: theme.page,\n});\n\nclass ChequeImportPage extends Component {\n\n    state = {\n        page: 0,\n        pageSize: 20,\n        afterCursor: null,\n        beforeCursor: null,\n    }\n\n    componentDidMount() {\n        this.query();\n    }\n\n    query = () => {\n        let prms = [];\n        prms.push(`first: ${this.state.pageSize}`);\n        if (!!this.state.afterCursor) {\n            prms.push(`after: \"${this.state.afterCursor}\"`)\n        }\n        if (!!this.state.beforeCursor) {\n            prms.push(`before: \"${this.state.beforeCursor}\"`)\n        }\n        prms.push(`orderBy: [\"code\"]`);\n        this.props.fetchChequesImport(prms);\n    }\n\n\n    render() {\n        const { \n            intl,\n            classes,\n            fetchingChequesImport,\n            errorChequesImport,\n            fetchedMyChequesImport,\n            myChequesImport,\n            myChequesImportPageInfo \n        } = this.props;\n\n        let headers = [\n            \"cmr_cs.importId\",\n            \"cmr_cs.importDate\",\n            \"cmr_cs.importUser\",\n        ]\n\n        let itemFormatters = [\n            e => e.id,\n            e => e.code,\n            e => e.name,\n        ]\n\n        return (\n            <div className={classes.page}>\n                <ProgressOrError progress={fetchingChequesImport} error={errorChequesImport} /> \n                <h1>{formatMessageWithValues(intl, \"CmrCS\", \"cmr_cs.importCheckFile\")}</h1>\n\n                <Grid container spacing={2} direction=\"column\">\n                  <Grid item>\n                    <Typography variant=\"h6\">{formatMessageWithValues(intl, \"CmrCS\", \"cmr_cs.importChecks\")}</Typography>\n                  </Grid>\n                  <Grid item>\n                    <form noValidate>\n                      <Grid container spacing={1} direction=\"column\">\n                        <Grid item>\n                          <Input\n                            required\n                            id=\"import-button\"\n                            inputProps={{\n                              accept: \".csv, application/csv, text/csv\",\n                            }}\n                            type=\"file\"\n                          />\n                        </Grid>\n                        <Grid item>\n                          <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                          >\n                            {formatMessageWithValues(intl, \"CmrCS\", \"cmr_cs.uploadFile\")}\n                          </Button>\n                        </Grid>\n                      </Grid>\n                    </form>\n                  </Grid>\n                </Grid>\n\n                <hr/>\n\n                <Table\n                    module=\"cmr_cs\"\n                    header={formatMessageWithValues(intl, \"CmrCS\", \"cmr_cs.tableImport\", \n                    {count: myChequesImportPageInfo.totalCount})}\n                    headers={headers}\n                    itemFormatters={itemFormatters}\n                    items={myChequesImport}\n                    withPagination={true}\n                    page={this.state.page}\n                    pageSize={this.state.pageSize}\n                    count={myChequesImportPageInfo.totalCount}\n                    onChangePage={this.onChangePage}\n                    onChangeRowsPerPage={this.onChangeRowsPerPage}\n                    rowsPerPageOptions={this.rowsPerPageOptions}\n                />\n                </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    fetchingChequesImport: state.cmr_cs.fetchingChequesImport,\n    errorChequesImport: state.cmr_cs.errorChequesImport,\n    fetchedMyChequesImport: state.cmr_cs.fetchedMyChequesImport,\n    myChequesImport: state.cmr_cs.myChequesImport,\n    myChequesImportPageInfo: state.cmr_cs.myChequesImportPageInfo,\n});\n\n\n\nconst mapDispatchToProps = dispatch => {\n    return bindActionCreators({ fetchChequesImport }, dispatch);\n};\n\nexport default injectIntl(withTheme(withStyles(styles)(connect(mapStateToProps, mapDispatchToProps)(ChequeImportPage))));","import messages_en from \"./translations/en.json\";\nimport messages_fr from \"./translations/fr.json\";\nimport reducer from \"./reducer\";\nimport CmrCsModuleMainMenu from \"./menus/CmrCsModuleMainMenu\";\n\nimport ChequeListPage from \"./pages/ChequeListPage\";\nimport ChequeImportPage from \"./pages/ChequeImportPage\";\n\nconst ROUTE_CMR_CS_LIST = \"cheque/list\"\nconst ROUTE_CMR_CS_IMPORT = \"cheque/import\"\n\nconst DEFAULT_CONFIG = {\n  \"translations\": [\n    { key: \"en\", messages: messages_en },\n    { key: \"fr\", messages: messages_fr },\n  ],\n  \"reducers\": [{ key: 'cmr_cs', reducer }],\n  \"core.MainMenu\" : [CmrCsModuleMainMenu],\n  \"core.Router\": [\n    { path: ROUTE_CMR_CS_LIST, component: ChequeListPage },\n    { path: ROUTE_CMR_CS_IMPORT, component: ChequeImportPage },\n  ],\n}\n\nexport const CmrCsModule = (cfg) => {\n  return { ...DEFAULT_CONFIG, ...cfg };\n}"],"names":["reducer","state","fetchingCheques","errorCheques","fetchedMyCheque","myCheques","myChequesPageInfo","totalCount","fetchingChequesImport","errorChequesImport","fetchedMyChequeImport","myChequesImport","myChequesImportPageInfo","submittingMutation","mutation","action","type","console","log","payload","data","userDistricts","name","_objectSpread","fetchedMyCheques","parseData","healthFacilities","pageInfo","formatGraphQLError","formatServerError","fetchedMyChequesImport","dispatchMutationReq","dispatchMutationErr","dispatchMutationResp","RIGHT_ADD","RIGHT_SUBMIT","CmrCseMainMenu","rights","props","entries","filter","r","length","push","text","formatMessage","intl","icon","route","Component","mapStateToProps","core","user","i_user","withModulesManager","injectIntl","connect","fetchCheques","formatPageQueryWithCount","graphql","fetchChequesImport","styles","theme","page","ChequeListPage","pageSize","afterCursor","beforeCursor","prms","query","classes","headers","itemFormatters","e","code","formatMessageWithValues","count","onChangePage","onChangeRowsPerPage","rowsPerPageOptions","cmr_cs","mapDispatchToProps","dispatch","bindActionCreators","withTheme","withStyles","ChequeImportPage","id","accept","ROUTE_CMR_CS_LIST","ROUTE_CMR_CS_IMPORT","DEFAULT_CONFIG","key","messages","messages_en","messages_fr","CmrCsModuleMainMenu","path","component","CmrCsModule","cfg"],"mappings":"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"}